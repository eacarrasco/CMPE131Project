{% extends "base.html" %}
{% block myContent %}
<h1>Search</h1>
<form action="" method="POST" novalidate>
	{{form.hidden_tag()}}
	<p>{{form.query.label}}: {{form.query()}}</p>
	<p>{{form.mode}}</p>
	<p>{{form.submit()}}</p>
</form>
<button onclick="location.href='/';">Home</button>
<br><br>
    {% if results is defined %}
		<h2>Results</h2>
		{% if results|length == 0 %}
			<p>No results found!</p>
		{% else %}
			{% if results[0].username is defined %}
<!--				if 'username' field exists, results is User objects. Otherwise, results is Message objects-->
				{% for user in results %}
					<h3>{{ user.username }}</h3>
					<button>Follow</button>
					<br>
				{% endfor %}
			{% else %}
				{% for message in results %}
					<h3>{{message.user.username}}</h3>
					<p>{{message.contents}}
						<!--{% if message.liked %}
							<button type="button"><img src="https://cdn-icons-png.flaticon.com/512/1076/1076984.png" alt="flaticon.com heart closed" style="width:12px;height:12px"></button></p>
						{% else %}
							<button type="button"><img src="https://cdn-icons-png.flaticon.com/512/1077/1077035.png" alt="flaticon.com heart open" style="width:12px;height:12px"></button></p>
						{% endif %}-->
					<br>
				{% endfor %}
			{% endif %}
		{% endif %}
    {% endif %}
{% endblock %}